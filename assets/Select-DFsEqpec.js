import{r as t}from"./iframe-0UjUrlXI.js";import{u as R,a as z}from"./index.esm-Bu0awhvF.js";import{c as o}from"./utils-CuF-iVWQ.js";const C=t.forwardRef(({name:r,label:c,options:u,className:E,containerClassName:N,isClearable:S,onFocus:f,onBlur:b,...n},k)=>{var x,h,y,w;const[q,s]=t.useState(!1),[d,m]=t.useState(!1),p=t.useRef(null),a=R(),v=a==null?void 0:a.control,F=v&&r?z({control:v,name:r}):void 0,l=n.value??F??"",g=(y=(h=(x=a==null?void 0:a.formState)==null?void 0:x.errors)==null?void 0:h[r])==null?void 0:y.message,T=q||!!l;t.useEffect(()=>{const e=i=>{p.current&&!p.current.contains(i.target)&&(m(!1),s(!1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const O=()=>{m(e=>!e),s(!0)},I=e=>{s(!0),f&&f(e)},L=e=>{b&&b(e)};return t.createElement("div",{className:o("relative",N),ref:p},t.createElement("div",{id:n.id||r,tabIndex:0,role:"button","aria-haspopup":"listbox","aria-expanded":d,className:o("peer flex items-center h-12 w-full border border-[var(--primary,#2563eb)] rounded-md bg-[var(--input-bg,#fff)] text-[var(--input-text,#222)] px-3 py-3 text-sm transition focus:outline-none focus:border-[var(--primary,#2563eb)] disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer relative",E),onClick:O,onFocus:I,onBlur:L,ref:k},t.createElement("span",{className:o("block truncate",!l&&"text-gray-400")},((w=u.find(e=>e.value===l))==null?void 0:w.label)||!c&&"Selecione..."),S&&l&&t.createElement("button",{type:"button",tabIndex:-1,"aria-label":"Limpar seleção",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-red-500 bg-transparent p-1 rounded-full focus:outline-none",onClick:e=>{if(e.stopPropagation(),a&&r&&a.setValue(r,""),n.onChange){const i={target:{value:""}};n.onChange(i)}m(!1),s(!1)}},"✕")),c&&t.createElement("label",{htmlFor:n.id||r,className:o("absolute left-3 z-10 origin-[0] cursor-text select-none text-sm text-gray-400 transition-all duration-200",T?"top-0 scale-90 -translate-y-1 text-xs text-[var(--primary,#2563eb)] p-1 rounded-full bg-white":"top-3 scale-100 translate-y-0.5")},c),t.createElement("div",{className:o("absolute left-0 w-full mt-1 rounded-md shadow-lg bg-white z-20 transition-all duration-200 overflow-hidden",d?"border border-[var(--primary,#2563eb)] max-h-36 opacity-100 scale-100":"max-h-0 opacity-0 scale-95 pointer-events-none"),style:{maxHeight:d?"9.5rem":"0",overflowY:u.length>3?"auto":"hidden"}},u.map(e=>t.createElement("div",{key:e.value,className:o("px-3 py-2 cursor-pointer hover:bg-blue-50 text-sm",l===e.value&&"bg-blue-100"),onMouseDown:()=>{if(a&&r&&a.setValue(r,e.value),n.onChange){const i={target:{value:e.value}};n.onChange(i)}s(!0)}},e.label))),g&&t.createElement("span",{className:"text-red-500 text-xs mt-1 block"},g))});C.displayName="Select";C.__docgenInfo={description:"",methods:[],displayName:"Select",props:{name:{required:!0,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"SelectOption"}],raw:"SelectOption[]"},description:""},containerClassName:{required:!1,tsType:{name:"string"},description:""},isClearable:{required:!1,tsType:{name:"boolean"},description:""}}};export{C as S};
