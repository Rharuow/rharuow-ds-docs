import{r as t}from"./iframe-DKIKpqtB.js";import{u as j,a as G}from"./index.esm-BjoyFiYm.js";import{c as h}from"./utils-CuF-iVWQ.js";const $=r=>r.replace(/\D/g,""),J=r=>{const e=$(r).slice(0,11);return e.length<=3?e:e.length<=6?`${e.slice(0,3)}.${e.slice(3)}`:e.length<=9?`${e.slice(0,3)}.${e.slice(3,6)}.${e.slice(6)}`:`${e.slice(0,3)}.${e.slice(3,6)}.${e.slice(6,9)}-${e.slice(9,11)}`},N=r=>{const o=$(r);if(o.length!==11||/^(\d)\1{10}$/.test(o))return!1;let e=0;for(let l=0;l<9;l++)e+=parseInt(o.charAt(l))*(10-l);let n=e*10%11;if((n===10||n===11)&&(n=0),n!==parseInt(o.charAt(9)))return!1;e=0;for(let l=0;l<10;l++)e+=parseInt(o.charAt(l))*(11-l);return n=e*10%11,(n===10||n===11)&&(n=0),n===parseInt(o.charAt(10))},q=t.forwardRef(({name:r,className:o,type:e="text",label:n,onFocus:l,onBlur:p,onChange:b,Icon:x,iconClassName:z,iconAction:F,containerClassName:V,cpf:m=!1,...c},d)=>{var T,M,I;const[P,v]=t.useState(!1),[f,k]=t.useState(!1),[A,y]=t.useState(null),i=j(),E=i==null?void 0:i.control,L=i==null?void 0:i.register,R=E&&r?G({control:E,name:r}):void 0,S=c.value??R??"",w=((I=(M=(T=i==null?void 0:i.formState)==null?void 0:T.errors)==null?void 0:M[r])==null?void 0:I.message)||A,D=["date","datetime-local","time","month","week"].includes(e),H=P||!!S||D,B=e==="password"?f?"text":"password":e,O=()=>t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",fill:"currentColor"})),W=()=>t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z",fill:"currentColor"})),_=()=>{k(!f)},C=s=>{if(m){const g=s.target.value,u=J(g);s.target.value=u,u.length===14?N(u)?y(null):y("CPF inválido"):y(null)}b&&b(s)};return t.createElement("div",{className:h("relative",V)},t.createElement("input",{id:c.id||r,type:B,className:h("peer flex h-12 w-full border border-[var(--primary,#2563eb)] rounded-md bg-[var(--input-bg,#fff)] text-[var(--input-text,#222)] px-3 pt-6 pb-2 text-sm placeholder-transparent transition focus:outline-none focus:border-[var(--primary,#2563eb)] disabled:cursor-not-allowed disabled:opacity-50",e==="password"||x?"pr-12":"",w?"border-red-500":"",o),onFocus:s=>{v(!0),l&&l(s)},maxLength:m?14:c.maxLength,inputMode:m?"numeric":c.inputMode,...i&&r?(()=>{const s=L(r,m?{validate:a=>a?a.length<14?"CPF incompleto":N(a)?!0:"CPF inválido":"CPF é obrigatório"}:void 0),g=s.onBlur,u=s.onChange;return{...s,ref:a=>{typeof d=="function"?d(a):d&&(d.current=a),s.ref&&s.ref(a)},onBlur:a=>{v(!1),p&&p(a),g&&g(a)},onChange:a=>{C(a),u&&u(a)}}})():{ref:d,onBlur:s=>{v(!1),p&&p(s)},onChange:C},...c}),n&&t.createElement("label",{htmlFor:c.id||r,className:h("absolute left-3 z-10 origin-[0] cursor-text select-none text-sm text-gray-400 transition-all duration-200",H?"top-0 scale-90 -translate-y-1 text-xs text-[var(--primary,#2563eb)] p-1 rounded-full bg-white":"top-3 scale-100 translate-y-0.5")},n),e==="password"&&t.createElement("button",{type:"button",className:"absolute top-1/2 right-3 -translate-y-1/2 text-gray-400 hover:text-[var(--primary,#2563eb)] transition-colors duration-200 focus:outline-none focus:text-[var(--primary,#2563eb)]",onClick:_,"aria-label":f?"Esconder senha":"Mostrar senha",tabIndex:-1},f?t.createElement(W,null):t.createElement(O,null)),x&&e!=="password"&&t.createElement("div",{className:h("absolute top-1/2 right-3 -translate-y-1/2 text-gray-400 cursor-pointer hover:text-[var(--primary,#2563eb)] transition-colors duration-200",z),onClick:F},t.createElement(x,null)),w&&t.createElement("span",{className:"text-red-500 text-xs mt-1 block"},w))});q.displayName="Input";q.__docgenInfo={description:"",methods:[],displayName:"Input",props:{name:{required:!0,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},Icon:{required:!1,tsType:{name:"ReactElementType",raw:"React.ElementType"},description:""},iconClassName:{required:!1,tsType:{name:"string"},description:""},containerClassName:{required:!1,tsType:{name:"string"},description:""},iconAction:{required:!1,tsType:{name:"ReactMouseEventHandler",raw:"React.MouseEventHandler<HTMLDivElement>",elements:[{name:"HTMLDivElement"}]},description:""},cpf:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},type:{defaultValue:{value:'"text"',computed:!1},required:!1}}};export{q as I};
